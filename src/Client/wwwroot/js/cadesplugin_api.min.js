(function(){function ft(){var i=navigator.userAgent,t,n=i.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(i)||[],{name:"IE",version:t[1]||""}):n[1]==="Chrome"&&(t=i.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/),t!=null)?{name:t[1].replace("OPR","Opera"),version:t[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=i.match(/version\/(\d+)/i))!=null&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}function e(t,i){if(typeof console!="undefined"&&t<=n.current_log_level){t===n.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",i);t===n.LOG_LEVEL_INFO&&console.info("INFO: %s",i);t===n.LOG_LEVEL_ERROR&&console.error("ERROR: %s",i);return}}function et(t){if(!(t===n.LOG_LEVEL_DEBUG||t===n.LOG_LEVEL_INFO||t===n.LOG_LEVEL_ERROR)){e(n.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+t);return}n.current_log_level=t;n.current_log_level===n.LOG_LEVEL_DEBUG&&e(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG");n.current_log_level===n.LOG_LEVEL_INFO&&e(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO");n.current_log_level===n.LOG_LEVEL_ERROR&&e(n.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR");l()&&(n.current_log_level===n.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),n.current_log_level===n.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),n.current_log_level===n.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))}function ot(){n.CAPICOM_MEMORY_STORE=0;n.CAPICOM_LOCAL_MACHINE_STORE=1;n.CAPICOM_CURRENT_USER_STORE=2;n.CAPICOM_SMART_CARD_USER_STORE=4;n.CADESCOM_MEMORY_STORE=0;n.CADESCOM_LOCAL_MACHINE_STORE=1;n.CADESCOM_CURRENT_USER_STORE=2;n.CADESCOM_SMART_CARD_USER_STORE=4;n.CADESCOM_CONTAINER_STORE=100;n.CAPICOM_MY_STORE="My";n.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2;n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0;n.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1;n.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2;n.CADESCOM_XADES_DEFAULT=16;n.CADESCOM_XADES_BES=32;n.CADESCOM_XADES_T=80;n.CADESCOM_XADES_X_LONG_TYPE_1=1488;n.CADESCOM_XMLDSIG_TYPE=0;n.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411";n.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411";n.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411";n.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411";n.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256";n.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256";n.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512";n.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512";n.CADESCOM_CADES_DEFAULT=0;n.CADESCOM_CADES_BES=1;n.CADESCOM_CADES_T=5;n.CADESCOM_CADES_X_LONG_TYPE_1=93;n.CADESCOM_PKCS7_TYPE=65535;n.CADESCOM_ENCODE_BASE64=0;n.CADESCOM_ENCODE_BINARY=1;n.CADESCOM_ENCODE_ANY=-1;n.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0;n.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1;n.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2;n.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0;n.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1;n.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0;n.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1;n.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2;n.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3;n.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4;n.CAPICOM_CERTIFICATE_FIND_EXTENSION=5;n.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6;n.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7;n.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8;n.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9;n.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10;n.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11;n.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12;n.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128;n.CAPICOM_PROPID_ENHKEY_USAGE=9;n.CAPICOM_OID_OTHER=0;n.CAPICOM_OID_KEY_USAGE_EXTENSION=10;n.CAPICOM_EKU_CLIENT_AUTH=2;n.CAPICOM_EKU_SMARTCARD_LOGON=5;n.CAPICOM_EKU_OTHER=0;n.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0;n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1;n.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2;n.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0;n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1;n.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2;n.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256;n.CADESCOM_ATTRIBUTE_OTHER=-1;n.CADESCOM_STRING_TO_UCS2LE=0;n.CADESCOM_BASE64_TO_BINARY=1;n.CADESCOM_DISPLAY_DATA_NONE=0;n.CADESCOM_DISPLAY_DATA_CONTENT=1;n.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2;n.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0;n.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1;n.CADESCOM_ENCRYPTION_ALGORITHM_DES=2;n.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3;n.CADESCOM_ENCRYPTION_ALGORITHM_AES=4;n.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25;n.CADESCOM_HASH_ALGORITHM_SHA1=0;n.CADESCOM_HASH_ALGORITHM_MD2=1;n.CADESCOM_HASH_ALGORITHM_MD4=2;n.CADESCOM_HASH_ALGORITHM_MD5=3;n.CADESCOM_HASH_ALGORITHM_SHA_256=4;n.CADESCOM_HASH_ALGORITHM_SHA_384=5;n.CADESCOM_HASH_ALGORITHM_SHA_512=6;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111;n.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112;n.LOG_LEVEL_DEBUG=4;n.LOG_LEVEL_INFO=2;n.LOG_LEVEL_ERROR=1;n.CADESCOM_AllowNone=0;n.CADESCOM_AllowNoOutstandingRequest=1;n.CADESCOM_AllowUntrustedCertificate=2;n.CADESCOM_AllowUntrustedRoot=4;n.CADESCOM_SkipInstallToStore=268435456;n.CADESCOM_InstallCertChainToContainer=536870912;n.CADESCOM_UseContainerStore=1073741824;n.ENABLE_CARRIER_TYPE_CSP=1;n.ENABLE_CARRIER_TYPE_FKC_NO_SM=2;n.ENABLE_CARRIER_TYPE_FKC_SM=4;n.ENABLE_ANY_CARRIER_TYPE=7;n.DISABLE_EVERY_CARRIER_OPERATION=0;n.ENABLE_CARRIER_OPEN_ENUM=1;n.ENABLE_CARRIER_CREATE=2;n.ENABLE_ANY_OPERATION=3;n.CADESCOM_PRODUCT_CSP=0;n.CADESCOM_PRODUCT_OCSP=1;n.CADESCOM_PRODUCT_TSP=2;n.MEDIA_TYPE_REGISTRY=1;n.MEDIA_TYPE_HDIMAGE=2;n.MEDIA_TYPE_CLOUD=4;n.MEDIA_TYPE_SCARD=8;n.XCN_CRYPT_STRING_BASE64HEADER=0;n.AT_KEYEXCHANGE=1;n.AT_SIGNATURE=2;n.CARRIER_FLAG_REMOVABLE=1;n.CARRIER_FLAG_UNIQUE=2;n.CARRIER_FLAG_PROTECTED=4;n.CARRIER_FLAG_FUNCTIONAL_CARRIER=8;n.CARRIER_FLAG_SECURE_MESSAGING=16;n.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64;n.CARRIER_FLAG_VIRTUAL=128}function st(n){function t(n,t){var f;try{f=r[n](t)}catch(e){return Promise.reject(e)}return f.done?f.value:Promise.resolve(f.value).then(i,u)}var r=n(Array.prototype.slice.call(arguments,1)),i=t.bind(t,"next"),u=t.bind(t,"throw");return i()}function o(){return t.name==="IE"||t.name==="MSIE"}function nt(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function l(){return o()?!1:t.name==="Edg"?!0:t.name==="YaBrowser"?(g=!0,!0):t.name==="Opera"?(d=!0,t.version>=33):t.name==="Firefox"?(f=!0,t.version>=52):t.name==="Chrome"?t.version>=42:t.name==="Safari"?(c=!0,t.version>=12):!1}function tt(n){var i,t;if(nt())return vt("CreateObject",[n]);if(o()){if(n.match(/X509Enrollment/i))try{return i=document.getElementById("webClassFactory"),i.CreateObject(n)}catch(u){try{return t=document.getElementById("certEnrollClassFactory"),t.CreateObject(n)}catch(i){throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS";}}try{return t=document.getElementById("webClassFactory"),t.CreateObject(n)}catch(u){return new ActiveXObject(n)}}return r.CreateObject(n)}function ht(n){return n<0&&(n=4294967295+n+1),n.toString(16).toUpperCase()}function it(n){var t=n.message;return t?n.number&&(t+=" (0x"+ht(n.number)+")"):t=n,t}function ct(n){if(l()||o()||nt())return it(n);try{return r.getLastError()}catch(t){return it(n)}}function lt(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function at(n){return r.CreateObjectAsync(n)}function vt(n,t){var i,r;if(s.call(n,t,function(n,t){r=n;var u="tmpobj="+t;eval(u);typeof i=="string"&&(i=i.replace(/\\\n/gm,"\n"),i=i.replace(/\\\r/gm,"\r"))}),r)throw r;return i}function yt(){if(!window.cadesplugin_skip_extension_install){var n=document.createElement("div");n.id="cadesplugin_ovr";n.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)";n.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X<\/button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение<\/a><\/p><\/div>";document.getElementsByTagName("Body")[0].appendChild(n);document.getElementById("cadesplugin_close_install").addEventListener("click",function(){i("Плагин недоступен");document.getElementById("cadesplugin_ovr").style.visibility="hidden"});n.addEventListener("click",function(){i("Плагин недоступен");document.getElementById("cadesplugin_ovr").style.visibility="hidden"});n.style.visibility="visible"}}function pt(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback();b=!0;cpcsp_chrome_nmcades.check_chrome_plugin(y,i)}function rt(){o()||f||c||window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback();window.postMessage("cadesplugin_echo_request","*");window.addEventListener("message",function(t){var u,r;if(typeof t.data=="string"&&t.data.match("cadesplugin_loaded")&&!w){if(f||c){if(u=t.data.substring(t.data.indexOf("url:")+4),!u.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$")){e(n.LOG_LEVEL_ERROR,'Bad url "'+u+'" for load CryptoPro Extension for CAdES Browser plug-in');i();return}r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("src",u);r.onerror=i;r.onload=pt;document.getElementsByTagName("head")[0].appendChild(r)}else cpcsp_chrome_nmcades.check_chrome_plugin(y,i);w=!0}},!1)}function wt(){if(f||c)rt();else{var n=document.createElement("script");n.setAttribute("type","text/javascript");d||g?n.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"):n.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js");n.onerror=i;n.onload=rt;document.getElementsByTagName("head")[0].appendChild(n)}}function v(){var i=document.createElement("object"),n,t;i.setAttribute("id","cadesplugin_object");i.setAttribute("type","application/x-cades");i.setAttribute("style","visibility: hidden");document.getElementsByTagName("body")[0].appendChild(i);r=document.getElementById("cadesplugin_object");o()&&(n=document.createElement("object"),n.setAttribute("id","certEnrollClassFactory"),n.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n),t=document.createElement("object"),t.setAttribute("id","webClassFactory"),t.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),t.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(t))}function y(){h=1;u?k():window.postMessage("cadesplugin_loaded","*")}function i(n){(typeof n=="undefined"||typeof n=="object")&&(n="Плагин недоступен");h=1;u?a(n):window.postMessage("cadesplugin_load_error","*")}function ut(){h!==1&&(f&&(b||yt()),h=1,u?a("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function p(){var r,n,t;try{r=tt("CAdESCOM.About");y()}catch(u){document.getElementById("cadesplugin_object").style.display="none";n=navigator.mimeTypes["application/x-cades"];n?(t=n.enabledPlugin,t?i("Плагин загружен, но не создаются обьекты"):i("Ошибка при загрузке плагина")):i("Плагин недоступен")}}function bt(){var n=document.createElement("div"),t;if(n.innerHTML="<!--[if lt IE 9]><i><\/i><![endif]-->",t=n.getElementsByTagName("i").length===1,t){i("Internet Explorer версии 8 и ниже не поддерживается");return}l()?wt():u?document.readyState==="complete"?(v(),p()):window.addEventListener("load",function(){v();p()},!1):window.addEventListener("message",function(n){n.data==="cadesplugin_echo_request"&&(v(),p())},!1)}function kt(n){r=n}function dt(){return typeof n.EnableInternalCSP!="undefined"&&n.EnableInternalCSP}var s;if(!window.cadesplugin){var r,h=0,w=!1,b=!1,n,k,a,u=!!window.Promise;n=u?new Promise(function(n,t){k=n;a=t}):{};var d=0,f=0,c=0,g=0,t=ft();n.JSModuleVersion="2.3.3";n.async_spawn=st;n.set=kt;n.set_log_level=et;n.getLastError=ct;n.is_capilite_enabled=dt;l()?(n.CreateObjectAsync=at,n.ReleasePluginObjects=lt):n.CreateObject=tt;window.cadesplugin_load_timeout?setTimeout(ut,window.cadesplugin_load_timeout):setTimeout(ut,2e4);ot();n.current_log_level=n.LOG_LEVEL_ERROR;window.cadesplugin=n;bt();s={callbacksCount:1,callbacks:{},resultForCallback:function(n,t){var i=s.callbacks[n];i&&i.apply(null,t)},call:function(n,t,i){var u=i&&typeof i=="function",f=u?s.callbacksCount++:0,r,e;u&&(s.callbacks[f]=i);r=document.createElement("IFRAME");e=["_CPNP_handle"];try{r.setAttribute("src","cpnp-js-call:"+n+":"+f+":"+encodeURIComponent(JSON.stringify(t,e)))}catch(o){alert(o)}document.documentElement.appendChild(r);r.parentNode.removeChild(r);r=null}}}})();